const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Room2DView-Ba5SThyc.js","assets/index-7UUcHPJu.js","assets/index-D_msk3-i.css","assets/RoomEditor3D-DC1c7zmH.js"])))=>i.map(i=>d[i]);
import{c as a,r as t,j as e,_ as w}from"./index-7UUcHPJu.js";const b=a("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),v=a("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),S=a("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),V=t.lazy(()=>w(()=>import("./Room2DView-Ba5SThyc.js"),__vite__mapDeps([0,1,2]))),C=t.lazy(()=>w(()=>import("./RoomEditor3D-DC1c7zmH.js"),__vite__mapDeps([3,1,2]))),R=({room:l,assets:n=[],selectedAsset:i,onAssetSelect:c,onAssetUpdate:o,onAssetDelete:d,onAssetCreate:N,editMode:x="view",showGrid:k=!0})=>{const[r,z]=t.useState(50),[u,h]=t.useState(!1),[s,m]=t.useState(null),M=j=>{if(!u)return;const f=j.currentTarget.parentElement.getBoundingClientRect(),D=(j.clientX-f.left)/f.width*100;z(Math.max(20,Math.min(80,D)))},_=()=>{h(!0)},p=()=>{h(!1)},y=()=>e.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Laster visning..."})]})}),g=t.useMemo(()=>l?{...l,width:l.width||10,height:l.height||3,depth:l.depth||8}:null,[l]);return e.jsxs("div",{className:"relative w-full h-full flex",onMouseMove:M,onMouseUp:p,onMouseLeave:p,children:[e.jsxs("div",{className:`relative border-r border-gray-300 transition-all ${s==="3d"?"hidden":""}`,style:{width:s==="2d"?"100%":`${r}%`},children:[e.jsxs("div",{className:"absolute top-0 left-0 right-0 z-20 bg-white/90 backdrop-blur-sm border-b px-3 py-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"2D Visning"}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("button",{onClick:()=>m(s==="2d"?null:"2d"),className:"p-1 hover:bg-gray-100 rounded",title:s==="2d"?"Vis delt skjerm":"Maksimer",children:s==="2d"?e.jsx(v,{size:16}):e.jsx(b,{size:16})})})]}),e.jsx("div",{className:"pt-10 h-full",children:e.jsx(t.Suspense,{fallback:e.jsx(y,{}),children:e.jsx(V,{room:g,assets:n,selectedAsset:i,onAssetSelect:c,onAssetUpdate:o,onAssetDelete:d,editMode:x,showGrid:k})})})]}),!s&&e.jsx("div",{className:`absolute top-0 bottom-0 w-1 bg-gray-300 hover:bg-blue-500 transition-colors z-30 ${u?"bg-blue-500":""}`,style:{left:`${r}%`,cursor:"col-resize",marginLeft:"-2px"},onMouseDown:_,children:e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx("div",{className:"bg-white rounded-full p-1 shadow-lg",children:e.jsxs("svg",{width:"8",height:"16",viewBox:"0 0 8 16",className:"text-gray-400",children:[e.jsx("circle",{cx:"2",cy:"2",r:"1",fill:"currentColor"}),e.jsx("circle",{cx:"6",cy:"2",r:"1",fill:"currentColor"}),e.jsx("circle",{cx:"2",cy:"8",r:"1",fill:"currentColor"}),e.jsx("circle",{cx:"6",cy:"8",r:"1",fill:"currentColor"}),e.jsx("circle",{cx:"2",cy:"14",r:"1",fill:"currentColor"}),e.jsx("circle",{cx:"6",cy:"14",r:"1",fill:"currentColor"})]})})})}),e.jsxs("div",{className:`relative flex-1 ${s==="2d"?"hidden":""}`,style:{width:s==="3d"?"100%":`${100-r}%`},children:[e.jsxs("div",{className:"absolute top-0 left-0 right-0 z-20 bg-white/90 backdrop-blur-sm border-b px-3 py-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"3D Visning"}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("button",{onClick:()=>m(s==="3d"?null:"3d"),className:"p-1 hover:bg-gray-100 rounded",title:s==="3d"?"Vis delt skjerm":"Maksimer",children:s==="3d"?e.jsx(v,{size:16}):e.jsx(b,{size:16})})})]}),e.jsx("div",{className:"pt-10 h-full",children:e.jsx(t.Suspense,{fallback:e.jsx(y,{}),children:e.jsx(C,{roomData:g,assets:n,onSelectAsset:c,onAssetUpdate:o,onAssetDelete:d,onAssetCreate:N,selectedAssetId:i==null?void 0:i.id,editMode:x,showStats:!1})})})]}),e.jsxs("div",{className:"absolute bottom-4 right-4 z-20 bg-white rounded-lg shadow-lg px-3 py-2 flex items-center gap-2",children:[e.jsx(S,{size:14,className:"text-green-500 animate-pulse"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Synkronisert"})]})]})},I=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{S as R,I as S};
